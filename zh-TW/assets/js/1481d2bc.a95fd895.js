"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[473],{9613:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>h});var a=n(9496);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,p=function(e,t){if(null==e)return{};var n,a,p={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(p[n]=e[n]);return p}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(p[n]=e[n])}return p}var i=a.createContext({}),m=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},s=function(e){var t=m(e.components);return a.createElement(i.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,p=e.mdxType,r=e.originalType,i=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),u=m(n),h=p,d=u["".concat(i,".").concat(h)]||u[h]||c[h]||r;return n?a.createElement(d,l(l({ref:t},s),{},{components:n})):a.createElement(d,l({ref:t},s))}));function h(e,t){var n=arguments,p=t&&t.mdxType;if("string"==typeof e||p){var r=n.length,l=new Array(r);l[0]=u;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o.mdxType="string"==typeof e?e:p,l[1]=o;for(var m=2;m<r;m++)l[m]=n[m];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5819:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>m,toc:()=>c});var a=n(2962),p=n(2742),r=(n(9496),n(9613)),l=["components"],o={title:"2021 \u5e74\u7684 pnpm",author:"Zoltan Kochan",authorURL:"http://twitter.com/zoltankochan",authorImageURL:"https://gravatar.com/avatar/1f59f040fb37d5799e3879fa678c2373?s=48"},i=void 0,m={permalink:"/zh-TW/blog/2021/12/29/yearly-update",editUrl:"https://crowdin.com/project/pnpm/zh-TW",source:"@site/i18n/zh-TW/docusaurus-plugin-content-blog/2021-12-29-yearly-update.md",title:"2021 \u5e74\u7684 pnpm",description:"\u5c0dpnpm\u4f86\u8aaa\u597d\u7684\u4e00\u5e74\u5df2\u7d93\u5230\u4e86\u5c3e\u8072\uff0c\u8b93\u6211\u4f86\u770b\u4e00\u4e0b\u6211\u5011\u7684\u9032\u5c55\u3002",date:"2021-12-29T00:00:00.000Z",formattedDate:"2021\u5e7412\u670829\u65e5",tags:[],readingTime:4.025,hasTruncateMarker:!0,authors:[{name:"Zoltan Kochan",url:"http://twitter.com/zoltankochan",imageURL:"https://gravatar.com/avatar/1f59f040fb37d5799e3879fa678c2373?s=48"}],frontMatter:{title:"2021 \u5e74\u7684 pnpm",author:"Zoltan Kochan",authorURL:"http://twitter.com/zoltankochan",authorImageURL:"https://gravatar.com/avatar/1f59f040fb37d5799e3879fa678c2373?s=48"},prevItem:{title:"The year 2022 for pnpm",permalink:"/zh-TW/blog/2022/12/30/yearly-update"},nextItem:{title:"Pnpm \u7684 Node-Modules \u8a2d\u5b9a\u9078\u9805",permalink:"/zh-TW/blog/2020/10/17/node-modules-configuration-options-with-pnpm"}},s={authorsImageUrls:[void 0]},c=[{value:"\u4f7f\u7528\u7d71\u8a08",id:"\u4f7f\u7528\u7d71\u8a08",level:2},{value:"\u4e0b\u8f09\u7d71\u8a08",id:"\u4e0b\u8f09\u7d71\u8a08",level:3},{value:"\u8a2a\u554fDocs\u7d71\u8a08",id:"\u8a2a\u554fdocs\u7d71\u8a08",level:3},{value:"GitHub\u4e0a\u7684\u661f\u661f\u7d71\u8a08",id:"github\u4e0a\u7684\u661f\u661f\u7d71\u8a08",level:3},{value:"\u65b0\u4f7f\u7528\u8005\u7d71\u8a08",id:"\u65b0\u4f7f\u7528\u8005\u7d71\u8a08",level:3},{value:"\u7279\u8272\u529f\u80fd",id:"\u7279\u8272\u529f\u80fd",level:2},{value:"\u65b0\u7684 lockfile \u683c\u5f0f (\u65bc v6.0.0 \u65b0\u589e)",id:"\u65b0\u7684-lockfile-\u683c\u5f0f-\u65bc-v600-\u65b0\u589e",level:3},{value:"\u7ba1\u7406 Node.js \u7248\u672c (\u65bc v6.12.0 \u65b0\u589e)",id:"\u7ba1\u7406-nodejs-\u7248\u672c-\u65bc-v6120-\u65b0\u589e",level:3},{value:"\u6ce8\u5165\u672c\u5730\u4f9d\u8cf4\u5957\u4ef6 \uff08\u65bc v6.20.0 \u65b0\u589e\uff09",id:"\u6ce8\u5165\u672c\u5730\u4f9d\u8cf4\u5957\u4ef6-\u65bc-v6200-\u65b0\u589e",level:3},{value:"\u6539\u5584 peer dependency \u554f\u984c\u56de\u5831 \uff08\u65bc v6.24.0 \u6539\u5584\uff09",id:"\u6539\u5584-peer-dependency-\u554f\u984c\u56de\u5831-\u65bc-v6240-\u6539\u5584",level:3},{value:"\u7af6\u722d",id:"\u7af6\u722d",level:2},{value:"Yarn",id:"yarn",level:3},{value:"npm",id:"npm",level:3},{value:"\u5176\u4ed6",id:"\u5176\u4ed6",level:3},{value:"\u672a\u4f86\u5c55\u671b",id:"\u672a\u4f86\u5c55\u671b",level:2}],u={toc:c};function h(e){var t=e.components,o=(0,p.Z)(e,l);return(0,r.kt)("wrapper",(0,a.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"\u5c0dpnpm\u4f86\u8aaa\u597d\u7684\u4e00\u5e74\u5df2\u7d93\u5230\u4e86\u5c3e\u8072\uff0c\u8b93\u6211\u4f86\u770b\u4e00\u4e0b\u6211\u5011\u7684\u9032\u5c55\u3002"),(0,r.kt)("h2",{id:"\u4f7f\u7528\u7d71\u8a08"},"\u4f7f\u7528\u7d71\u8a08"),(0,r.kt)("h3",{id:"\u4e0b\u8f09\u7d71\u8a08"},"\u4e0b\u8f09\u7d71\u8a08"),(0,r.kt)("p",null,"\u4eca\u5e74\u6211\u7684\u76ee\u6a19\u662f\u5728\u4e0b\u8f09\u7d71\u8a08\u6578\u64da\u4e0a\u6253\u6557 Bower\u3002 \u6211\u5011",(0,r.kt)("a",{parentName:"p",href:"https://npm-stat.com/charts.html?package=pnpm&package=bower&from=2021-01-01&to=2021-12-29"},"\u5728\u5341\u4e00\u6708\u6642"),"\u5df2\u7d93\u5b8c\u6210\u4e86"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(8568).Z,width:"976",height:"389"})),(0,r.kt)("p",null,"\u5728 2021 \u5e74\u6642\uff0cpnpm\u4e0b\u8f09\u91cf\u5927\u7d04\u6bd4 2020 \u6642",(0,r.kt)("a",{parentName:"p",href:"https://npm-stat.com/charts.html?package=pnpm&from=2016-12-01&to=2021-12-29"},"\u591a 3 \u6b21\u4ee5\u4e0a"),"\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(5314).Z,width:"983",height:"394"})),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"\u9019\u4e9b\u6578\u64da\u6c92\u6709\u6e2c\u91cf\u5230 pnpm \u6240\u6709\u4e0d\u540c\u7684\u5b89\u88dd\u65b9\u5f0f\uff01 \u90a3\u4e9b\u6578\u64da\u662f\u53ea\u6709\u6e2c\u91cf\u900f\u904e ",(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/pnpm"},"pnpm npm package")," \u4e0b\u8f09\u7684\u6578\u64da\u3002 \u5728\u4eca\u5e74\uff0c\u6211\u5011\u4e5f\u6709\u65b0\u589e\u5df2\u7de8\u8b6f\u6210\u4e8c\u9032\u4f4d\u7248\u7684 pnpm\uff0c\u5176\u767c\u9001\u65b9\u5f0f\u8207\u5176\u4ed6\u7248\u672c\u4e0d\u540c")),(0,r.kt)("h3",{id:"\u8a2a\u554fdocs\u7d71\u8a08"},"\u8a2a\u554fDocs\u7d71\u8a08"),(0,r.kt)("p",null,"\u6211\u5011\u5f9e Google \u5206\u6790\u6536\u96c6\u4e86\u4e00\u4e9b\u8a2a\u554f docs \u7684\u5ba2\u89c0\u7684\u6578\u64da\u3002 \u5728 2021 \u5e74\uff0c\u6211\u5011\u6709\u6642\u6bcf\u9031\u6703\u6709\u591a\u65bc2000\u500b\u7368\u4e00\u7121\u4e8c\u7684\u95b1\u8b80\u8005\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(4485).Z,width:"665",height:"509"})),(0,r.kt)("p",null,"\u5927\u591a\u6578\u7684\u4f7f\u7528\u8005\u7686\u4f86\u81ea\u7f8e\u570b\u548c\u4e2d\u570b"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(6084).Z,width:"585",height:"498"})),(0,r.kt)("h3",{id:"github\u4e0a\u7684\u661f\u661f\u7d71\u8a08"},"GitHub\u4e0a\u7684\u661f\u661f\u7d71\u8a08"),(0,r.kt)("p",null,"\u6211\u5011\u7684",(0,r.kt)("a",{parentName:"p",href:"https://github.com/pnpm/pnpm"},"\u4e3b\u8981 GitHub \u6578\u64da\u5eab"),"\u4eca\u5e74\u6536\u5230 5000 \u591a\u500b\u661f\u661f\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(4294).Z,width:"913",height:"800"})),(0,r.kt)("h3",{id:"\u65b0\u4f7f\u7528\u8005\u7d71\u8a08"},"\u65b0\u4f7f\u7528\u8005\u7d71\u8a08"),(0,r.kt)("p",null,"\u4eca\u5e74\u6211\u5011\u6700\u5927\u7684\u65b0\u7528\u6236\u662f ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/pnpm/pnpm.github.io/pull/89"},"Bytedance")," \uff08\u6296\u97f3\u80cc\u5f8c\u7684\u516c\u53f8\uff09"),(0,r.kt)("p",null,"\u4e26\u4e14\uff0c\u5f88\u591a\u4e0d\u932f\u7684\u958b\u6e90\u5c08\u6848\u958b\u59cb\u4f7f\u7528 pnpm\u4e86\u3002 \u4e00\u4e9b\u5c08\u6848\u56e0\u70ba monorepos \u7684\u826f\u597d\u652f\u63f4\u6240\u4ee5\u5207\u63db\u81f3 pnpm\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/vuejs/vue-next"},"Vue")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/vitejs/vite"},"Vite")),(0,r.kt)("li",{parentName:"ul"},"\u9084\u6709",(0,r.kt)("a",{parentName:"li",href:"https://pnpm.io/workspaces#usage-examples"},"\u5176\u4ed6"),"......")),(0,r.kt)("p",null,"\u6216\u8005\u4e00\u4e9b\u5c08\u6848\u56e0\u70ba\u4ed6\u5011\u559c\u6b61 pnpm \u5982\u6b64\u5730\u9ad8\u6548\u3001\u5feb\u901f\u3001\u8207\u7f8e\u89c0\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://twitter.com/Autoprefixer/status/1476226146488692736"},"Autoprefixer")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://twitter.com/PostCSS/status/1470438664006258701"},"PostCSS")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://twitter.com/Browserslist/status/1468264308308156419"},"Browserslist"))),(0,r.kt)("h2",{id:"\u7279\u8272\u529f\u80fd"},"\u7279\u8272\u529f\u80fd"),(0,r.kt)("h3",{id:"\u65b0\u7684-lockfile-\u683c\u5f0f-\u65bc-v600-\u65b0\u589e"},"\u65b0\u7684 lockfile \u683c\u5f0f (\u65bc ",(0,r.kt)("a",{parentName:"h3",href:"https://github.com/pnpm/pnpm/releases/tag/v6.0.0"},"v6.0.0")," \u65b0\u589e)"),(0,r.kt)("p",null,"\u5728\u4eca\u5e74\u7684\u91cd\u8981\u66f4\u65b0\u4e2d\uff0c\u6700\u91cd\u8981\u4e14\u7b2c\u4e00\u500b\u66f4\u65b0\u5c31\u662f\u65b0\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm-lock.yaml")," \u683c\u5f0f\u3002 \u9019\u662f\u4e00\u500b\u7a81\u7834\u6027\u66f4\u65b0\uff0c\u6240\u4ee5\u6211\u5011\u9700\u8981\u4ee5\u7b2c 6 \u7248\u91cb\u51fa\u3002 \u4f46\u90a3\u662f\u500b\u6210\u529f\u3002 \u820a\u7684 lockfile \u5e38\u5e38\u9020\u6210 Git \u885d\u7a81\u3002 \u81ea\u5f9e\u65b0\u7684\u683c\u5f0f\u63a8\u51fa\u5f8c\uff0c\u6211\u5011\u6c92\u6709\u518d\u63a5\u6536\u5230\u8207 Git \u885d\u7a81\u76f8\u95dc\u7684\u62b1\u6028\u3002"),(0,r.kt)("h3",{id:"\u7ba1\u7406-nodejs-\u7248\u672c-\u65bc-v6120-\u65b0\u589e"},"\u7ba1\u7406 Node.js \u7248\u672c (\u65bc ",(0,r.kt)("a",{parentName:"h3",href:"https://github.com/pnpm/pnpm/releases/tag/v6.12.0"},"v6.12.0")," \u65b0\u589e)"),(0,r.kt)("p",null,"\u6211\u5011\u63a8\u51fa\u4e86\u65b0\u547d\u4ee4 ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm env"),"\uff0c\u8a72\u547d\u4ee4\u80fd\u8b93\u60a8\u7ba1\u7406 Node.js \u7248\u672c\u3002 \u6240\u4ee5\u60a8\u53ef\u4ee5\u4f7f\u7528 pnpm \u4f86\u53d6\u4ee3\u50cf nvm\u3001Volta \u7b49 Node.js \u7248\u672c\u7ba1\u7406\u5668"),(0,r.kt)("p",null,"\u4e26\u4e14\uff0cpnpm\u53ef\u4ee5\u7368\u7acb\u4e0b\u8f09\u8207\u904b\u884c\uff0c\u6240\u4ee5\u5373\u4f7f\u60a8\u6c92\u6709\u9810\u5148\u5b89\u88dd Node.js\uff0c\u60a8\u9084\u662f\u53ef\u4ee5\u904b\u884c pnpm\u3002"),(0,r.kt)("h3",{id:"\u6ce8\u5165\u672c\u5730\u4f9d\u8cf4\u5957\u4ef6-\u65bc-v6200-\u65b0\u589e"},"\u6ce8\u5165\u672c\u5730\u4f9d\u8cf4\u5957\u4ef6 \uff08\u65bc ",(0,r.kt)("a",{parentName:"h3",href:"https://github.com/pnpm/pnpm/releases/tag/v6.20.0"},"v6.20.0")," \u65b0\u589e\uff09"),(0,r.kt)("p",null,"\u60a8\u53ef\u4ee5\u300c\u6ce8\u5165\u300d\u4e00\u500b\u672c\u5730\u4f9d\u8cf4\u5957\u4ef6\u3002 \u9810\u8a2d\u60c5\u6cc1\u4e0b\uff0c\u672c\u5730\u4f9d\u8cf4\u5957\u4ef6\u6703\u8edf\u9023\u7d50\u81f3 ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules"),"\uff0c\u4f46\u6709\u4e86\u9019\u65b0\u529f\u80fd\uff0c\u60a8\u53ef\u4ee5\u4f7f pnpm \u786c\u9023\u7d50\u6a21\u7d44\u6587\u4ef6\u3002"),(0,r.kt)("h3",{id:"\u6539\u5584-peer-dependency-\u554f\u984c\u56de\u5831-\u65bc-v6240-\u6539\u5584"},"\u6539\u5584 peer dependency \u554f\u984c\u56de\u5831 \uff08\u65bc ",(0,r.kt)("a",{parentName:"h3",href:"https://github.com/pnpm/pnpm/releases/tag/v6.24.0"},"v6.24.0")," \u6539\u5584\uff09"),(0,r.kt)("p",null,"Peer dependency \u554f\u984c\u5831\u544a\u4ee5\u524d\u662f\u50c5\u5370\u51fa\u7d14\u6587\u5b57\u800c\u4e14\u5f88\u96e3\u7406\u89e3\u7684\u3002 \u73fe\u5728\u5b83\u5011\u5df2\u7d93\u5168\u90e8\u88ab\u5206\u985e\uff0c\u4e26\u4e14\u8f38\u51fa\u80fd\u4ee5\u5f88\u597d\u7684\u5c64\u6b21\u7d50\u69cb\u8868\u9032\u884c\u5448\u73fe"),(0,r.kt)("h2",{id:"\u7af6\u722d"},"\u7af6\u722d"),(0,r.kt)("h3",{id:"yarn"},"Yarn"),(0,r.kt)("p",null,"Yarn \u5728",(0,r.kt)("a",{parentName:"p",href:"https://dev.to/arcanis/yarn-31-corepack-esm-pnpm-optional-packages--3hak#new-install-mode-raw-pnpm-endraw-"},"\u7248\u672c 3.1")," \u4e2d\u65b0\u589e\u4e86 pnpm \u9023\u7d50\u5668\u3002 \u6240\u4ee5 Yarn \u73fe\u5728\u4e5f\u53ef\u4ee5\u5275\u9020\u51fa\u8207 pnpm \u76f8\u4f3c\u7684\u8cc7\u6599\u593e\u7d50\u69cb\u3002"),(0,r.kt)("p",null,"\u800c\u4e14\uff0cYarn \u958b\u767c\u5718\u968a\u8a08\u756b\u8981\u5be6\u4f5c\u4e00\u500b\u5167\u5bb9\u53ef\u5b9a\u5740\u7684\u5132\u5b58\u5340\u4ee5\u9054\u5230\u9ad8\u6548\u5229\u7528\u78c1\u789f\u7a7a\u9593"),(0,r.kt)("h3",{id:"npm"},"npm"),(0,r.kt)("p",null,"Npm \u958b\u767c\u5718\u968a\u4e5f\u6c7a\u5b9a\u63a1\u53d6 pnpm\u4f7f\u7528\u7684\u8edf\u9023\u7d50 node_modules \u8cc7\u6599\u593e\u7d50\u69cb\uff08\u76f8\u95dc\u7684 ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/npm/rfcs/blob/main/accepted/0042-isolated-mode.md"},"RFC"),"\uff09"),(0,r.kt)("h3",{id:"\u5176\u4ed6"},"\u5176\u4ed6"),(0,r.kt)("p",null,"\u4f7f\u7528Zig\u3001",(0,r.kt)("a",{parentName:"p",href:"https://github.com/voltpkg/volt"},"Volt")," \u548c Rust \u5beb\u51fa\u4f86\u7684 ",(0,r.kt)("a",{parentName:"p",href:"https://twitter.com/jarredsumner/status/1473416431291174912/photo/1"},"Bun")," \u5ba3\u7a31\u5b83\u6bd4 npm\u3001Yarn\u3001pnpm \u90fd\u9084\u8981\u5feb\u3002 \u4f46\u662f\u6211\u9084\u6c92\u5c0d\u9019\u4e9b\u6a21\u7d44\u7ba1\u7406\u5668\u9032\u884c\u8dd1\u5206\u3002"),(0,r.kt)("h2",{id:"\u672a\u4f86\u5c55\u671b"},"\u672a\u4f86\u5c55\u671b"),(0,r.kt)("p",null,"\u66f4\u5feb\u3001\u66f4\u597d"))}h.isMDXComponent=!0},6084:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/countries-2021-8eb9625e1798649ee04451dfb10ac851.png"},5314:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/download-stats-2021-1418562cb03abd558c4a6b4b17155227.png"},4485:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/ga-unique-visits-2021-b8bc3649f680565127696c85bdd4b701.png"},8568:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/pnpm-vs-bower-stats-6ec69a7308f5fbc1433420b1b2f7457f.png"},4294:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/stars-2021-0061c16f424e33ba0db224d82bcb53f3.png"}}]);