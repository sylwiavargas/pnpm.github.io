"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2808],{9613:(e,a,n)=>{n.d(a,{Zo:()=>d,kt:()=>m});var t=n(9496);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function i(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function o(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?i(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function l(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=t.createContext({}),u=function(e){var a=t.useContext(p),n=a;return e&&(n="function"==typeof e?e(a):o(o({},a),e)),n},d=function(e){var a=u(e.components);return t.createElement(p.Provider,{value:a},e.children)},k={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},s=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),s=u(n),m=r,c=s["".concat(p,".").concat(m)]||s[m]||k[m]||i;return n?t.createElement(c,o(o({ref:a},d),{},{components:n})):t.createElement(c,o({ref:a},d))}));function m(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=s;var l={};for(var p in a)hasOwnProperty.call(a,p)&&(l[p]=a[p]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var u=2;u<i;u++)o[u]=n[u];return t.createElement.apply(null,o)}return t.createElement.apply(null,n)}s.displayName="MDXCreateElement"},6310:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>p,default:()=>m,frontMatter:()=>l,metadata:()=>u,toc:()=>k});var t=n(2848),r=n(9213),i=(n(9496),n(9613)),o=["components"],l={title:"Opsi konfigurasi Node-Modules dengan pnpm",author:"Zoltan Kochan",authorURL:"http://twitter.com/zoltankochan",authorImageURL:"https://gravatar.com/avatar/1f59f040fb37d5799e3879fa678c2373?s=48"},p=void 0,u={permalink:"/id/blog/2020/10/17/node-modules-configuration-options-with-pnpm",editUrl:"https://crowdin.com/project/pnpm/id",source:"@site/i18n/id/docusaurus-plugin-content-blog/2020-10-17-node-modules-configuration-options-with-pnpm.md",title:"Opsi konfigurasi Node-Modules dengan pnpm",description:"Ada banyak cara untuk membuat direktori nodemodules. Tujuan anda adalah untuk membuat direktori dengan mode strict semaksimal mungkin, medkipun demikian ada opsi untuk membuat nodemodules yang lebih longgar.",date:"2020-10-17T00:00:00.000Z",formattedDate:"17 Oktober 2020",tags:[],readingTime:1.6,truncated:!0,authors:[{name:"Zoltan Kochan",url:"http://twitter.com/zoltankochan",imageURL:"https://gravatar.com/avatar/1f59f040fb37d5799e3879fa678c2373?s=48"}],frontMatter:{title:"Opsi konfigurasi Node-Modules dengan pnpm",author:"Zoltan Kochan",authorURL:"http://twitter.com/zoltankochan",authorImageURL:"https://gravatar.com/avatar/1f59f040fb37d5799e3879fa678c2373?s=48"},prevItem:{title:"Tahun 2021 untuk pnpm",permalink:"/id/blog/2021/12/29/yearly-update"},nextItem:{title:"Flat node_modules bukan satu-satunya cara",permalink:"/id/blog/2020/05/27/flat-node-modules-is-not-the-only-way"}},d={authorsImageUrls:[void 0]},k=[{value:"Pengaturan standar",id:"pengaturan-standar",level:2},{value:"Plug&#39;n&#39;Play. Konfigurasi paling ketat",id:"plugnplay-konfigurasi-paling-ketat",level:2},{value:"Mode ketat, tradisional module direktori",id:"mode-ketat-tradisional-module-direktori",level:2},{value:"Kasus terburuk - menarik ke root",id:"kasus-terburuk---menarik-ke-root",level:2}],s={toc:k};function m(e){var a=e.components,n=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,t.Z)({},s,n,{components:a,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Ada banyak cara untuk membuat direktori node_modules. Tujuan anda adalah untuk membuat direktori dengan mode strict semaksimal mungkin, medkipun demikian ada opsi untuk membuat node_modules yang lebih longgar."),(0,i.kt)("h2",{id:"pengaturan-standar"},"Pengaturan standar"),(0,i.kt)("p",null,"Secara standar, pnpm v5 akan membuat node_modules semi-ketat. Semi-ketat berarti aplikasi Anda hanya dapat meminta paket yang ditambahkan sebagai dependensi ke ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json")," (dengan beberapa pengecualian). Namun, dependensi Anda akan dapat mengakses paket apa pun."),(0,i.kt)("p",null,"Konfigurasi standar terlihat seperti ini:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ini"},"; All packages are hoisted to node_modules/.pnpm/node_modules\nhoist-pattern[]=*\n\n; All types are hoisted to the root in order to make TypeScript happy\npublic-hoist-pattern[]=*types*\n\n; All ESLint-related packages are hoisted to the root as well\npublic-hoist-pattern[]=*eslint*\n")),(0,i.kt)("h2",{id:"plugnplay-konfigurasi-paling-ketat"},"Plug'n'Play. Konfigurasi paling ketat"),(0,i.kt)("p",null,"pnpm mendukung ",(0,i.kt)("a",{parentName:"p",href:"https://yarnpkg.com/features/pnp"},"Yarn's Plug'n'Play")," sejak v5.9 dirilis. Dengan PnP, aplikasi Anda dan dependensi aplikasi Anda hanya akan memiliki akses ke dependensi yang dideklarasikan. Ini bahkan lebih ketat daripada menyetel ",(0,i.kt)("inlineCode",{parentName:"p"},"hoist=false")," karena di dalam monorepo, aplikasi Anda tidak akan dapat mengakses bahkan dependensi dari proyek root."),(0,i.kt)("p",null,"Untuk menggunakan Plug'n'Play, gunakan konfigurasi berikut ini:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ini"},"node-linker=pnp\nsymlink=false\n")),(0,i.kt)("h2",{id:"mode-ketat-tradisional-module-direktori"},"Mode ketat, tradisional module direktori"),(0,i.kt)("p",null,"Jika anda belum siap untuk menggunakan Pnp, anda bisa menggunakan mode ketat dan hanya memperbolehkan packages untuk mengakses dependensi mereka sendiri dengan melakukan konfigurasi hoist ke false:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ini"},"hoist=false\n")),(0,i.kt)("p",null,"Namun, jika anda ingin beberapa dependensi mengakses packages yang tidak memiliki dependensi, anda memiliki dua opsi:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Buat ",(0,i.kt)("inlineCode",{parentName:"p"},"pnpmfile.js")," file dan gunakan ",(0,i.kt)("a",{parentName:"p",href:"/pnpmfile"},"hook")," untuk menambahkan dependensi yang hilang ke dalam package's manifest.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Tambahkan pola ke pengaturan ",(0,i.kt)("inlineCode",{parentName:"p"},"hoist-pattern"),". Misalnya, jika modul yang tidak ditemukan adalah ",(0,i.kt)("inlineCode",{parentName:"p"},"babel-core"),", tambahkan pengaturan berikut ke ",(0,i.kt)("inlineCode",{parentName:"p"},".npmrc"),":"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-ini"},"hoist-pattern[]=babel-core\n")))),(0,i.kt)("h2",{id:"kasus-terburuk---menarik-ke-root"},"Kasus terburuk - menarik ke root"),(0,i.kt)("p",null,"Beberapa sarana mungkin tidak bekerja bahkan dengan konfigurasi bawaan pnpm, yang menarik semuanya ke root pernyimpanan virtual dan beberapa paket ke root. Dalam hal ini, Anda dapat menarik semuanya atau sebagian dependensi ke root direktori modul."),(0,i.kt)("p",null,"Menarik semuanya ke root node_modules:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ini"},"shamefully-hoist=true\n")),(0,i.kt)("p",null,"Menarik hanya paket yang cocok dengan pola:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ini"},"public-hoist-pattern[]=babel-*\n")))}m.isMDXComponent=!0}}]);