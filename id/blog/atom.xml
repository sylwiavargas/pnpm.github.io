<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://pnpm.io/id/blog</id>
    <title>pnpm Blog</title>
    <updated>2021-12-29T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://pnpm.io/id/blog"/>
    <subtitle>pnpm Blog</subtitle>
    <icon>https://pnpm.io/id/img/favicon.png</icon>
    <entry>
        <title type="html"><![CDATA[Tahun 2021 untuk pnpm]]></title>
        <id>/2021/12/29/yearly-update</id>
        <link href="https://pnpm.io/id/blog/2021/12/29/yearly-update"/>
        <updated>2021-12-29T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Di penghujung tahun ini dan tahun ini merupakan sebuah tahun yang baik untuk pnpm, mari kita lihat bagaimana kelanjutannya.]]></summary>
        <content type="html"><![CDATA[<p>Di penghujung tahun ini dan tahun ini merupakan sebuah tahun yang baik untuk pnpm, mari kita lihat bagaimana kelanjutannya.</p><h2 class="anchor anchorWithStickyNavbar_Ucjl" id="penggunaan">Penggunaan<a class="hash-link" href="#penggunaan" title="Tautan langsung ke judul">​</a></h2><h3 class="anchor anchorWithStickyNavbar_Ucjl" id="statistik-unduhan">Statistik Unduhan<a class="hash-link" href="#statistik-unduhan" title="Tautan langsung ke judul">​</a></h3><p>My goal this year was to beat Bower by the number of downloads. We were able to achieve this goal <a href="https://npm-stat.com/charts.html?package=pnpm&amp;package=bower&amp;from=2021-01-01&amp;to=2021-12-29" target="_blank" rel="noopener noreferrer">in November</a>:</p><p><img loading="lazy" src="/id/assets/images/pnpm-vs-bower-stats-6ec69a7308f5fbc1433420b1b2f7457f.png" width="976" height="389" class="img_ictY"></p><p>pnpm was downloaded about <a href="https://npm-stat.com/charts.html?package=pnpm&amp;from=2016-12-01&amp;to=2021-12-29" target="_blank" rel="noopener noreferrer">3 times more</a> in 2021 than in 2020:</p><p><img loading="lazy" src="/id/assets/images/download-stats-2021-1418562cb03abd558c4a6b4b17155227.png" width="983" height="394" class="img_ictY"></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_jq0h"><div class="admonitionHeading_xONs"><span class="admonitionIcon_eUWp"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_ZETI"><p>These stats don't even measure all the different ways that pnpm may be installed! They only measure the downloads of the <a href="https://www.npmjs.com/package/pnpm" target="_blank" rel="noopener noreferrer">pnpm npm package</a>. This year we also added compiled binary versions of pnpm, which are shipped differently.</p></div></div><h3 class="anchor anchorWithStickyNavbar_Ucjl" id="kunjungan-dokumentasi">Kunjungan Dokumentasi<a class="hash-link" href="#kunjungan-dokumentasi" title="Tautan langsung ke judul">​</a></h3><p>We collect some unpersonalized stats from our docs using Google Analytics. In 2021, sometimes we had more than 2,000 unique visitors a week.</p><p><img loading="lazy" src="/id/assets/images/ga-unique-visits-2021-b8bc3649f680565127696c85bdd4b701.png" width="665" height="509" class="img_ictY"></p><p>Most of our users are from the United States and China.</p><p><img loading="lazy" src="/id/assets/images/countries-2021-8eb9625e1798649ee04451dfb10ac851.png" width="585" height="498" class="img_ictY"></p><h3 class="anchor anchorWithStickyNavbar_Ucjl" id="github-stars">GitHub stars<a class="hash-link" href="#github-stars" title="Tautan langsung ke judul">​</a></h3><p>Our <a href="https://github.com/pnpm/pnpm" target="_blank" rel="noopener noreferrer">main GitHub repository</a> received +5,000 stars this year.</p><p><img loading="lazy" src="/id/assets/images/stars-2021-0061c16f424e33ba0db224d82bcb53f3.png" width="913" height="800" class="img_ictY"></p><h3 class="anchor anchorWithStickyNavbar_Ucjl" id="new-users">New users<a class="hash-link" href="#new-users" title="Tautan langsung ke judul">​</a></h3><p>Our biggest new user this year is <a href="https://github.com/pnpm/pnpm.github.io/pull/89" target="_blank" rel="noopener noreferrer">Bytedance</a> (the company behind TikTok).</p><p>Also, many great open-source projects started to use pnpm. Some switched to pnpm because of its great support of monorepos:</p><ul><li><a href="https://github.com/vuejs/vue-next" target="_blank" rel="noopener noreferrer">Vue</a></li><li><a href="https://github.com/vitejs/vite" target="_blank" rel="noopener noreferrer">Vite</a></li><li>and <a href="https://pnpm.io/workspaces#usage-examples" target="_blank" rel="noopener noreferrer">others</a></li></ul><p>Some switched because they like how efficient, fast, and beautiful pnpm is:</p><ul><li><a href="https://twitter.com/Autoprefixer/status/1476226146488692736" target="_blank" rel="noopener noreferrer">Autoprefixer</a></li><li><a href="https://twitter.com/PostCSS/status/1470438664006258701" target="_blank" rel="noopener noreferrer">PostCSS</a></li><li><a href="https://twitter.com/Browserslist/status/1468264308308156419" target="_blank" rel="noopener noreferrer">Browserslist</a></li></ul><h2 class="anchor anchorWithStickyNavbar_Ucjl" id="feature-highlights">Feature Highlights<a class="hash-link" href="#feature-highlights" title="Tautan langsung ke judul">​</a></h2><h3 class="anchor anchorWithStickyNavbar_Ucjl" id="new-lockfile-format-since-v600">New lockfile format (since <a href="https://github.com/pnpm/pnpm/releases/tag/v6.0.0" target="_blank" rel="noopener noreferrer">v6.0.0</a>)<a class="hash-link" href="#new-lockfile-format-since-v600" title="Tautan langsung ke judul">​</a></h3><p>One of the first and most important changes this year was the new <code>pnpm-lock.yaml</code> format. This was a breaking change, so we had to release v6. But it was a success. The old lockfile was causing Git conflicts frequently. Since the new format was introduced, we did not receive any complaints about Git conflicts.</p><h3 class="anchor anchorWithStickyNavbar_Ucjl" id="managing-nodejs-versions-since-v6120">Managing Node.js versions (since <a href="https://github.com/pnpm/pnpm/releases/tag/v6.12.0" target="_blank" rel="noopener noreferrer">v6.12.0</a>)<a class="hash-link" href="#managing-nodejs-versions-since-v6120" title="Tautan langsung ke judul">​</a></h3><p>We shipped a new command (<code>pnpm env</code>) that allows to manage Node.js versions. So you may use pnpm instead of Node.js version managers like nvm or Volta.</p><p>Also, pnpm is shipped as a standalone executable, so you can run it even with no Node.js preinstalled on the system.</p><h3 class="anchor anchorWithStickyNavbar_Ucjl" id="injecting-local-dependencies-since-v6200">Injecting local dependencies (since <a href="https://github.com/pnpm/pnpm/releases/tag/v6.20.0" target="_blank" rel="noopener noreferrer">v6.20.0</a>)<a class="hash-link" href="#injecting-local-dependencies-since-v6200" title="Tautan langsung ke judul">​</a></h3><p>You may "inject" a local dependency. By default, local dependencies are symlinked to <code>node_modules</code> but with this new feature you may instruct pnpm to hard link the files of the package instead.</p><h3 class="anchor anchorWithStickyNavbar_Ucjl" id="improved-reporting-of-peer-dependency-issues-since-v6240">Improved reporting of peer dependency issues (since <a href="https://github.com/pnpm/pnpm/releases/tag/v6.24.0" target="_blank" rel="noopener noreferrer">v6.24.0</a>)<a class="hash-link" href="#improved-reporting-of-peer-dependency-issues-since-v6240" title="Tautan langsung ke judul">​</a></h3><p>Peer dependency issues used to be printed as plain text and it was hard to understand them. They are now all grouped and printed in a nice hierarchy structure.</p><h2 class="anchor anchorWithStickyNavbar_Ucjl" id="the-competition">The Competition<a class="hash-link" href="#the-competition" title="Tautan langsung ke judul">​</a></h2><h3 class="anchor anchorWithStickyNavbar_Ucjl" id="yarn">Yarn<a class="hash-link" href="#yarn" title="Tautan langsung ke judul">​</a></h3><p>Yarn added a pnpm linker in <a href="https://dev.to/arcanis/yarn-31-corepack-esm-pnpm-optional-packages--3hak#new-install-mode-raw-pnpm-endraw-" target="_blank" rel="noopener noreferrer">v3.1</a>. So Yarn can create a similar node-modules directory structure to the one that pnpm creates.</p><p>Also, the Yarn team plans to implement a content-addressable storage to be more disk space efficient.</p><h3 class="anchor anchorWithStickyNavbar_Ucjl" id="npm">npm<a class="hash-link" href="#npm" title="Tautan langsung ke judul">​</a></h3><p>The npm team decided to also adopt the symlinked node-modules directory structure that pnpm uses (related <a href="https://github.com/npm/rfcs/blob/main/accepted/0042-isolated-mode.md" target="_blank" rel="noopener noreferrer">RFC</a>).</p><h3 class="anchor anchorWithStickyNavbar_Ucjl" id="others">Others<a class="hash-link" href="#others" title="Tautan langsung ke judul">​</a></h3><p><a href="https://twitter.com/jarredsumner/status/1473416431291174912/photo/1" target="_blank" rel="noopener noreferrer">Bun</a> written in Zig and <a href="https://github.com/voltpkg/volt" target="_blank" rel="noopener noreferrer">Volt</a> written in Rust both claim to be faster than npm/Yarn/pnpm. I did not benchmark these new package managers yet.</p><h2 class="anchor anchorWithStickyNavbar_Ucjl" id="rencana-kedepan">Rencana Kedepan<a class="hash-link" href="#rencana-kedepan" title="Tautan langsung ke judul">​</a></h2><p>Lebih cepat, lebih baik, terbaik.</p>]]></content>
        <author>
            <name>Zoltan Kochan</name>
            <uri>http://twitter.com/zoltankochan</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Opsi konfigurasi Node-Modules dengan pnpm]]></title>
        <id>/2020/10/17/node-modules-configuration-options-with-pnpm</id>
        <link href="https://pnpm.io/id/blog/2020/10/17/node-modules-configuration-options-with-pnpm"/>
        <updated>2020-10-17T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Ada banyak cara untuk membuat direktori nodemodules. Tujuan anda adalah untuk membuat direktori dengan mode strict semaksimal mungkin, medkipun demikian ada opsi untuk membuat nodemodules yang lebih longgar.]]></summary>
        <content type="html"><![CDATA[<p>Ada banyak cara untuk membuat direktori node_modules. Tujuan anda adalah untuk membuat direktori dengan mode strict semaksimal mungkin, medkipun demikian ada opsi untuk membuat node_modules yang lebih longgar.</p><h2 class="anchor anchorWithStickyNavbar_Ucjl" id="pengaturan-standar">Pengaturan standar<a class="hash-link" href="#pengaturan-standar" title="Tautan langsung ke judul">​</a></h2><p>Secara standar, pnpm v5 akan membuat node_modules semi-ketat. Semi-ketat berarti aplikasi Anda hanya dapat meminta paket yang ditambahkan sebagai dependensi ke <code>package.json</code> (dengan beberapa pengecualian). Namun, dependensi Anda akan dapat mengakses paket apa pun.</p><p>Konfigurasi standar terlihat seperti ini:</p><div class="language-ini codeBlockContainer_E88J theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jIuT"><pre tabindex="0" class="prism-code language-ini codeBlock_jcrH thin-scrollbar"><code class="codeBlockLines_IV0G"><span class="token-line" style="color:#393A34"><span class="token plain">; All packages are hoisted to node_modules/.pnpm/node_modules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hoist-pattern[]=*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">; All types are hoisted to the root in order to make TypeScript happy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public-hoist-pattern[]=*types*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">; All ESLint-related packages are hoisted to the root as well</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public-hoist-pattern[]=*eslint*</span><br></span></code></pre><div class="buttonGroup_uJ_n"><button type="button" aria-label="Salin kode ke clipboard" title="Salin" class="clean-btn"><span class="copyButtonIcons_Cx0t" aria-hidden="true"><svg class="copyButtonIcon_Ay8k" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_zkyL" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_Ucjl" id="plugnplay-konfigurasi-paling-ketat">Plug'n'Play. Konfigurasi paling ketat<a class="hash-link" href="#plugnplay-konfigurasi-paling-ketat" title="Tautan langsung ke judul">​</a></h2><p>pnpm mendukung <a href="https://yarnpkg.com/features/pnp" target="_blank" rel="noopener noreferrer">Yarn's Plug'n'Play</a> sejak v5.9 dirilis. Dengan PnP, aplikasi Anda dan dependensi aplikasi Anda hanya akan memiliki akses ke dependensi yang dideklarasikan. Ini bahkan lebih ketat daripada menyetel <code>hoist=false</code> karena di dalam monorepo, aplikasi Anda tidak akan dapat mengakses bahkan dependensi dari proyek root.</p><p>Untuk menggunakan Plug'n'Play, gunakan konfigurasi berikut ini:</p><div class="language-ini codeBlockContainer_E88J theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jIuT"><pre tabindex="0" class="prism-code language-ini codeBlock_jcrH thin-scrollbar"><code class="codeBlockLines_IV0G"><span class="token-line" style="color:#393A34"><span class="token plain">node-linker=pnp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">symlink=false</span><br></span></code></pre><div class="buttonGroup_uJ_n"><button type="button" aria-label="Salin kode ke clipboard" title="Salin" class="clean-btn"><span class="copyButtonIcons_Cx0t" aria-hidden="true"><svg class="copyButtonIcon_Ay8k" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_zkyL" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_Ucjl" id="mode-ketat-tradisional-module-direktori">Mode ketat, tradisional module direktori<a class="hash-link" href="#mode-ketat-tradisional-module-direktori" title="Tautan langsung ke judul">​</a></h2><p>Jika anda belum siap untuk menggunakan Pnp, anda bisa menggunakan mode ketat dan hanya memperbolehkan packages untuk mengakses dependensi mereka sendiri dengan melakukan konfigurasi hoist ke false:</p><div class="language-ini codeBlockContainer_E88J theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jIuT"><pre tabindex="0" class="prism-code language-ini codeBlock_jcrH thin-scrollbar"><code class="codeBlockLines_IV0G"><span class="token-line" style="color:#393A34"><span class="token plain">hoist=false</span><br></span></code></pre><div class="buttonGroup_uJ_n"><button type="button" aria-label="Salin kode ke clipboard" title="Salin" class="clean-btn"><span class="copyButtonIcons_Cx0t" aria-hidden="true"><svg class="copyButtonIcon_Ay8k" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_zkyL" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Namun, jika anda ingin beberapa dependensi mengakses packages yang tidak memiliki dependensi, anda memiliki dua opsi:</p><ol><li><p>Buat <code>pnpmfile.js</code> file dan gunakan <a href="/id/pnpmfile">hook</a> untuk menambahkan dependensi yang hilang ke dalam package's manifest.</p></li><li><p>Tambahkan pola ke pengaturan <code>hoist-pattern</code>. Misalnya, jika modul yang tidak ditemukan adalah <code>babel-core</code>, tambahkan pengaturan berikut ke <code>.npmrc</code>:</p><div class="language-ini codeBlockContainer_E88J theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jIuT"><pre tabindex="0" class="prism-code language-ini codeBlock_jcrH thin-scrollbar"><code class="codeBlockLines_IV0G"><span class="token-line" style="color:#393A34"><span class="token plain">hoist-pattern[]=babel-core</span><br></span></code></pre><div class="buttonGroup_uJ_n"><button type="button" aria-label="Salin kode ke clipboard" title="Salin" class="clean-btn"><span class="copyButtonIcons_Cx0t" aria-hidden="true"><svg class="copyButtonIcon_Ay8k" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_zkyL" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><h2 class="anchor anchorWithStickyNavbar_Ucjl" id="kasus-terburuk---menarik-ke-root">Kasus terburuk - menarik ke root<a class="hash-link" href="#kasus-terburuk---menarik-ke-root" title="Tautan langsung ke judul">​</a></h2><p>Beberapa sarana mungkin tidak bekerja bahkan dengan konfigurasi bawaan pnpm, yang menarik semuanya ke root pernyimpanan virtual dan beberapa paket ke root. Dalam hal ini, Anda dapat menarik semuanya atau sebagian dependensi ke root direktori modul.</p><p>Menarik semuanya ke root node_modules:</p><div class="language-ini codeBlockContainer_E88J theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jIuT"><pre tabindex="0" class="prism-code language-ini codeBlock_jcrH thin-scrollbar"><code class="codeBlockLines_IV0G"><span class="token-line" style="color:#393A34"><span class="token plain">shamefully-hoist=true</span><br></span></code></pre><div class="buttonGroup_uJ_n"><button type="button" aria-label="Salin kode ke clipboard" title="Salin" class="clean-btn"><span class="copyButtonIcons_Cx0t" aria-hidden="true"><svg class="copyButtonIcon_Ay8k" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_zkyL" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Menarik hanya paket yang cocok dengan pola:</p><div class="language-ini codeBlockContainer_E88J theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jIuT"><pre tabindex="0" class="prism-code language-ini codeBlock_jcrH thin-scrollbar"><code class="codeBlockLines_IV0G"><span class="token-line" style="color:#393A34"><span class="token plain">public-hoist-pattern[]=babel-*</span><br></span></code></pre><div class="buttonGroup_uJ_n"><button type="button" aria-label="Salin kode ke clipboard" title="Salin" class="clean-btn"><span class="copyButtonIcons_Cx0t" aria-hidden="true"><svg class="copyButtonIcon_Ay8k" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_zkyL" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>Zoltan Kochan</name>
            <uri>http://twitter.com/zoltankochan</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Flat node_modules bukan satu-satunya cara]]></title>
        <id>/2020/05/27/flat-node-modules-is-not-the-only-way</id>
        <link href="https://pnpm.io/id/blog/2020/05/27/flat-node-modules-is-not-the-only-way"/>
        <updated>2020-05-27T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Pengguna baru pnpm sering bertanya kepada saya tentang struktur aneh node_modules yang dibuat pnpm. Kenapa tidak flat? Di mana semua sub-dependensi?]]></summary>
        <content type="html"><![CDATA[<p>Pengguna baru pnpm sering bertanya kepada saya tentang struktur aneh <code>node_modules</code> yang dibuat pnpm. Kenapa tidak flat? Di mana semua sub-dependensi?</p><blockquote><p>Saya akan berasumsi bahwa pembaca artikel sudah terbiasa dengan flat <code>node_modules</code> dibuat oleh npm dan Yarn. Jika Anda tidak mengerti mengapa npm 3 harus mulai menggunakan flat <code>node_modules</code> di v3, Anda dapat menemukan beberapa prasejarah di <a href="https://www.kochan.io/nodejs/why-should-we-use-pnpm.html" target="_blank" rel="noopener noreferrer">Mengapa kita harus menggunakan pnpm?</a>.</p></blockquote><p>Jadi mengapa <code>node_modules</code> pnpm tidak biasa? Mari buat dua direktori dan jalankan <code>npm add express</code> di salah satunya dan <code>pnpm add express</code> di direktori lainnya. Inilah bagian atas dari apa yang Anda dapatkan di direktori pertama <code>node_modules</code>:</p><div class="language-text codeBlockContainer_E88J theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jIuT"><pre tabindex="0" class="prism-code language-text codeBlock_jcrH thin-scrollbar"><code class="codeBlockLines_IV0G"><span class="token-line" style="color:#393A34"><span class="token plain">.bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">accepts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">array-flatten</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">body-parser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">content-disposition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cookie-signature</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cookie</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">depd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">destroy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ee-first</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">encodeurl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">escape-html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">etag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">express</span><br></span></code></pre><div class="buttonGroup_uJ_n"><button type="button" aria-label="Salin kode ke clipboard" title="Salin" class="clean-btn"><span class="copyButtonIcons_Cx0t" aria-hidden="true"><svg class="copyButtonIcon_Ay8k" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_zkyL" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Anda dapat melihat seluruh direktori <a href="https://github.com/zkochan/comparing-node-modules/tree/master/npm-example/node_modules" target="_blank" rel="noopener noreferrer">disini</a>.</p><p>Dan inilah yang Anda dapatkan di <code>node_modules</code> dibuat oleh pnpm:</p><div class="language-text codeBlockContainer_E88J theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jIuT"><pre tabindex="0" class="prism-code language-text codeBlock_jcrH thin-scrollbar"><code class="codeBlockLines_IV0G"><span class="token-line" style="color:#393A34"><span class="token plain">.pnpm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.modules.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">express</span><br></span></code></pre><div class="buttonGroup_uJ_n"><button type="button" aria-label="Salin kode ke clipboard" title="Salin" class="clean-btn"><span class="copyButtonIcons_Cx0t" aria-hidden="true"><svg class="copyButtonIcon_Ay8k" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_zkyL" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Anda dapat memeriksanya <a href="https://github.com/zkochan/comparing-node-modules/tree/master/pnpm5-example/node_modules" target="_blank" rel="noopener noreferrer">disini</a>.</p><p>Jadi di mana semua dependensinya? Hanya ada satu folder di <code>node_modules</code> bernama <code>.pnpm</code> dan symlink bernama <code>express</code>. Nah, kami hanya menginstal <code>express</code>, jadi itu adalah satu-satunya paket yang dapat diakses oleh aplikasi Anda</p><blockquote><p>Baca lebih lanjut tentang mengapa keketatan pnpm adalah hal yang baik <a href="https://medium.com/pnpm/pnpms-strictness-helps-to-avoid-silly-bugs-9a15fb306308" target="_blank" rel="noopener noreferrer">disini</a></p></blockquote><p>Mari kita lihat apa yang ada di dalam <code>express</code>:</p><div class="language-text codeBlockContainer_E88J theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jIuT"><pre tabindex="0" class="prism-code language-text codeBlock_jcrH thin-scrollbar"><code class="codeBlockLines_IV0G"><span class="token-line" style="color:#393A34"><span class="token plain">▾ node_modules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ▸ .pnpm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ▾ express</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ▸ lib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      History.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      index.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      LICENSE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      package.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Readme.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .modules.yaml</span><br></span></code></pre><div class="buttonGroup_uJ_n"><button type="button" aria-label="Salin kode ke clipboard" title="Salin" class="clean-btn"><span class="copyButtonIcons_Cx0t" aria-hidden="true"><svg class="copyButtonIcon_Ay8k" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_zkyL" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>express</code> tidak memiliki <code>node_modules</code>? Di mana semua dependensi <code>express</code>?</p><p>Triknya adalah <code>express</code> hanyalah sebuah symlink. Saat Node.js menyelesaikan dependensi, ia menggunakan lokasi sebenarnya, sehingga tidak mempertahankan symlink. Tapi di mana lokasi sebenarnya dari <code>express</code>, Anda mungkin bertanya?</p><p>Di sini: <a href="https://github.com/zkochan/comparing-node-modules/tree/master/pnpm5-example/node_modules/.pnpm/express@4.17.1/node_modules/express" target="_blank" rel="noopener noreferrer">node_modules/.pnpm/express@4.17.1/node_modules/express</a>.</p><p>Oke, jadi sekarang kita tahu tujuan dari folder <code>.pnpm/</code>. <code>.pnpm/</code> menyimpan semua paket dalam struktur folder datar, sehingga setiap paket dapat ditemukan dalam folder yang dinamai dengan pola ini:</p><div class="language-text codeBlockContainer_E88J theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jIuT"><pre tabindex="0" class="prism-code language-text codeBlock_jcrH thin-scrollbar"><code class="codeBlockLines_IV0G"><span class="token-line" style="color:#393A34"><span class="token plain">.pnpm/&lt;name&gt;@&lt;version&gt;/node_modules/&lt;name&gt;</span><br></span></code></pre><div class="buttonGroup_uJ_n"><button type="button" aria-label="Salin kode ke clipboard" title="Salin" class="clean-btn"><span class="copyButtonIcons_Cx0t" aria-hidden="true"><svg class="copyButtonIcon_Ay8k" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_zkyL" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Kami menyebutnya direktori virtual.</p><p>Struktur datar ini menghindari masalah jalur panjang yang disebabkan oleh <code>node_modules</code> bersarang yang dibuat oleh npm v2 tetapi membuat paket tetap terisolasi tidak seperti <code>node_modules</code> datar yang dibuat oleh npm v3,4,5,6 atau Yarn v1.</p><p>Sekarang mari kita lihat lokasi sebenarnya dari <code>express</code>:</p><div class="language-text codeBlockContainer_E88J theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jIuT"><pre tabindex="0" class="prism-code language-text codeBlock_jcrH thin-scrollbar"><code class="codeBlockLines_IV0G"><span class="token-line" style="color:#393A34"><span class="token plain">  ▾ express</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ▸ lib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      History.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      index.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      LICENSE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      package.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Readme.md</span><br></span></code></pre><div class="buttonGroup_uJ_n"><button type="button" aria-label="Salin kode ke clipboard" title="Salin" class="clean-btn"><span class="copyButtonIcons_Cx0t" aria-hidden="true"><svg class="copyButtonIcon_Ay8k" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_zkyL" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Apakah itu penipuan? Masih kekurangan <code>node_modules</code>! Trik kedua dari struktur <code>node_modules</code> pnpm adalah bahwa dependensi paket berada pada tingkat direktori yang sama dengan lokasi sebenarnya dari paket dependen. Jadi dependensi <code>express</code> tidak ada di <code>.pnpm/express@4.17.1/node_modules/express/node_modules/</code> tetapi dalam <a href="https://github.com/zkochan/comparing-node-modules/tree/master/pnpm5-example/node_modules/.pnpm/express@4.17.1/node_modules" target="_blank" rel="noopener noreferrer">.pnpm/express@4.17.1/node_modules/</a>:</p><div class="language-text codeBlockContainer_E88J theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jIuT"><pre tabindex="0" class="prism-code language-text codeBlock_jcrH thin-scrollbar"><code class="codeBlockLines_IV0G"><span class="token-line" style="color:#393A34"><span class="token plain">▾ node_modules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ▾ .pnpm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ▸ accepts@1.3.5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ▸ array-flatten@1.1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ▾ express@4.16.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ▾ node_modules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ▸ accepts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ▸ array-flatten</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ▸ body-parser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ▸ content-disposition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ▸ etag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ▾ express</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ▸ lib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            History.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            index.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            LICENSE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            package.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Readme.md</span><br></span></code></pre><div class="buttonGroup_uJ_n"><button type="button" aria-label="Salin kode ke clipboard" title="Salin" class="clean-btn"><span class="copyButtonIcons_Cx0t" aria-hidden="true"><svg class="copyButtonIcon_Ay8k" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_zkyL" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Semua dependensi <code>express</code> adalah symlink ke direktori yang sesuai di <code>node_modules/.pnpm/</code>. Menempatkan dependensi <code>express</code> satu tingkat ke atas memungkinkan menghindari symlink melingkar.</p><p>Jadi seperti yang Anda lihat, meskipun struktur <code>node_modules</code> pnpm tampak tidak biasa pada awalnya:</p><ol><li>itu sepenuhnya kompatibel dengan Node.js</li><li>paket dikelompokkan dengan baik dengan dependensinya</li></ol><p>Strukturnya sedikit <a href="/id/how-peers-are-resolved">lebih kompleks</a> untuk paket dengan dependensi rekan tetapi idenya sama: menggunakan symlink untuk membuat sarang dengan struktur direktori datar.</p>]]></content>
        <author>
            <name>Zoltan Kochan</name>
            <uri>http://twitter.com/zoltankochan</uri>
        </author>
    </entry>
</feed>