"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2411],{9613:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var a=n(9496);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var p=a.createContext({}),l=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=l(e.components);return a.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,s=e.mdxType,r=e.originalType,p=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=l(n),m=s,f=c["".concat(p,".").concat(m)]||c[m]||d[m]||r;return n?a.createElement(f,i(i({ref:t},u),{},{components:n})):a.createElement(f,i({ref:t},u))}));function m(e,t){var n=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var r=n.length,i=new Array(r);i[0]=c;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:s,i[1]=o;for(var l=2;l<r;l++)i[l]=n[l];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},4198:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>p,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var a=n(665),s=n(151),r=(n(9496),n(9613)),i=["components"],o={title:"L'ann\xe9e 2021 pour pnpm",author:"Zoltan Kochan",authorURL:"http://twitter.com/zoltankochan",authorImageURL:"https://gravatar.com/avatar/1f59f040fb37d5799e3879fa678c2373?s=48"},p=void 0,l={permalink:"/fr/blog/2021/12/29/yearly-update",editUrl:"https://crowdin.com/project/pnpm/fr",source:"@site/i18n/fr/docusaurus-plugin-content-blog/2021-12-29-yearly-update.md",title:"L'ann\xe9e 2021 pour pnpm",description:"C'est la fin de l'ann\xe9e et ce fut une bonne ann\xe9e pour pnpm, alors voyons comment elle s'est d\xe9roul\xe9e.",date:"2021-12-29T00:00:00.000Z",formattedDate:"29 d\xe9cembre 2021",tags:[],readingTime:2.88,hasTruncateMarker:!0,authors:[{name:"Zoltan Kochan",url:"http://twitter.com/zoltankochan",imageURL:"https://gravatar.com/avatar/1f59f040fb37d5799e3879fa678c2373?s=48"}],frontMatter:{title:"L'ann\xe9e 2021 pour pnpm",author:"Zoltan Kochan",authorURL:"http://twitter.com/zoltankochan",authorImageURL:"https://gravatar.com/avatar/1f59f040fb37d5799e3879fa678c2373?s=48"},nextItem:{title:"Options de configuration des node_modules avec pnpm",permalink:"/fr/blog/2020/10/17/node-modules-configuration-options-with-pnpm"}},u={authorsImageUrls:[void 0]},d=[{value:"Utilisation",id:"utilisation",level:2},{value:"Statistiques de t\xe9l\xe9chargement",id:"statistiques-de-t\xe9l\xe9chargement",level:3},{value:"Visites des documents",id:"visites-des-documents",level:3},{value:"\xc9toiles GitHub",id:"\xe9toiles-github",level:3},{value:"Nouveaux utilisateurs",id:"nouveaux-utilisateurs",level:3},{value:"Fonctionnalit\xe9s marquantes",id:"fonctionnalit\xe9s-marquantes",level:2},{value:"Nouveau format du fichier lockfile (depuis v6.0.0)",id:"nouveau-format-du-fichier-lockfile-depuis-v600",level:3},{value:"Gestion des versions de Node.js (depuis v6.12.0)",id:"gestion-des-versions-de-nodejs-depuis-v6120",level:3},{value:"Injection de d\xe9pendances locales (depuis v6.20.0)",id:"injection-de-d\xe9pendances-locales-depuis-v6200",level:3},{value:"Am\xe9lioration du signalement des probl\xe8mes de d\xe9pendance entre pairs (depuis v6.24.0)",id:"am\xe9lioration-du-signalement-des-probl\xe8mes-de-d\xe9pendance-entre-pairs-depuis-v6240",level:3},{value:"La comp\xe9tition",id:"la-comp\xe9tition",level:2},{value:"Yarn",id:"yarn",level:3},{value:"npm",id:"npm",level:3},{value:"Autres",id:"autres",level:3},{value:"Plans futurs",id:"plans-futurs",level:2}],c={toc:d};function m(e){var t=e.components,o=(0,s.Z)(e,i);return(0,r.kt)("wrapper",(0,a.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"C'est la fin de l'ann\xe9e et ce fut une bonne ann\xe9e pour pnpm, alors voyons comment elle s'est d\xe9roul\xe9e."),(0,r.kt)("h2",{id:"utilisation"},"Utilisation"),(0,r.kt)("h3",{id:"statistiques-de-t\xe9l\xe9chargement"},"Statistiques de t\xe9l\xe9chargement"),(0,r.kt)("p",null,"Mon objectif cette ann\xe9e \xe9tait de battre Bower en nombre de t\xe9l\xe9chargements. Nous avons pu atteindre cet objectif ",(0,r.kt)("a",{parentName:"p",href:"https://npm-stat.com/charts.html?package=pnpm&package=bower&from=2021-01-01&to=2021-12-29"},"en novembre"),"\xa0:"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(8584).Z,width:"976",height:"389"})),(0,r.kt)("p",null,"pnpm a \xe9t\xe9 t\xe9l\xe9charg\xe9 environ ",(0,r.kt)("a",{parentName:"p",href:"https://npm-stat.com/charts.html?package=pnpm&from=2016-12-01&to=2021-12-29"},"3 fois plus")," en 2021 qu'en 2020\xa0:"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(8244).Z,width:"983",height:"394"})),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Ces statistiques ne mesurent m\xeame pas toutes les diff\xe9rentes fa\xe7ons dont pnpm peut \xeatre install\xe9\xa0! Celles-ci ne mesurent que les t\xe9l\xe9chargements du ",(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/pnpm"},"package pnpm depuis npm"),". Cette ann\xe9e, nous avons \xe9galement ajout\xe9 les versions binaires compil\xe9es de pnpm, qui sont livr\xe9es diff\xe9remment.")),(0,r.kt)("h3",{id:"visites-des-documents"},"Visites des documents"),(0,r.kt)("p",null,"Nous recueillons des statistiques non personnalis\xe9es sur nos documents \xe0 l'aide de Google Analytics. En 2021, nous avions parfois plus de 2 000 visiteurs uniques par semaine."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(7846).Z,width:"665",height:"509"})),(0,r.kt)("p",null,"La plupart de nos utilisateurs sont originaires des \xc9tats-Unis et de la Chine."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(8759).Z,width:"585",height:"498"})),(0,r.kt)("h3",{id:"\xe9toiles-github"},"\xc9toiles GitHub"),(0,r.kt)("p",null,"Notre ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/pnpm/pnpm"},"d\xe9p\xf4t principal sur GitHub")," a re\xe7u plus de 5 000 \xe9toiles cette ann\xe9e."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(6627).Z,width:"913",height:"800"})),(0,r.kt)("h3",{id:"nouveaux-utilisateurs"},"Nouveaux utilisateurs"),(0,r.kt)("p",null,"Notre nouvel utilisateur le plus important cette ann\xe9e est ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/pnpm/pnpm.github.io/pull/89"},"Bytedance")," (la soci\xe9t\xe9 derri\xe8re TikTok)."),(0,r.kt)("p",null,"De plus, de nombreux projets importants open-source ont commenc\xe9 \xe0 utiliser pnpm. Certains sont pass\xe9s \xe0 pnpm en raison de son excellent support des monorepos\xa0:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/vuejs/vue-next"},"Vue")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/vitejs/vite"},"Vite")),(0,r.kt)("li",{parentName:"ul"},"et d'",(0,r.kt)("a",{parentName:"li",href:"https://pnpm.io/workspaces#usage-examples"},"autres")," encore")),(0,r.kt)("p",null,"Certains ont chang\xe9 parce qu'ils appr\xe9cient l'efficacit\xe9, la rapidit\xe9 et la beaut\xe9 de pnpm\xa0:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://twitter.com/Autoprefixer/status/1476226146488692736"},"Autoprefixer")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://twitter.com/PostCSS/status/1470438664006258701"},"PostCSS")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://twitter.com/Browserslist/status/1468264308308156419"},"Browserslist"))),(0,r.kt)("h2",{id:"fonctionnalit\xe9s-marquantes"},"Fonctionnalit\xe9s marquantes"),(0,r.kt)("h3",{id:"nouveau-format-du-fichier-lockfile-depuis-v600"},"Nouveau format du fichier lockfile (depuis ",(0,r.kt)("a",{parentName:"h3",href:"https://github.com/pnpm/pnpm/releases/tag/v6.0.0"},"v6.0.0"),")"),(0,r.kt)("p",null,"L'un des premiers et des plus importants changements de cette ann\xe9e a \xe9t\xe9 le nouveau format de ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm-lock.yaml"),". Il s'agissait d'un changement de rupture, nous avons donc d\xfb publier la v6. Mais ce fut un succ\xe8s. L'ancien fichier lockfile provoquait fr\xe9quemment des conflits avec Git. Depuis l'introduction du nouveau format, nous n'avons re\xe7u aucune plainte concernant des conflits Git."),(0,r.kt)("h3",{id:"gestion-des-versions-de-nodejs-depuis-v6120"},"Gestion des versions de Node.js (depuis ",(0,r.kt)("a",{parentName:"h3",href:"https://github.com/pnpm/pnpm/releases/tag/v6.12.0"},"v6.12.0"),")"),(0,r.kt)("p",null,"Nous avons livr\xe9 une nouvelle commande (",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm env"),") qui permet de g\xe9rer les versions de Node.js. Vous pouvez donc utiliser pnpm \xe0 la place des gestionnaires de version de Node.js comme nvm ou Volta."),(0,r.kt)("p",null,"De plus, pnpm est livr\xe9 sous la forme d'un ex\xe9cutable autonome, de sorte que vous puissiez l'ex\xe9cuter m\xeame sans que Node.js soit pr\xe9install\xe9 sur le syst\xe8me."),(0,r.kt)("h3",{id:"injection-de-d\xe9pendances-locales-depuis-v6200"},"Injection de d\xe9pendances locales (depuis ",(0,r.kt)("a",{parentName:"h3",href:"https://github.com/pnpm/pnpm/releases/tag/v6.20.0"},"v6.20.0"),")"),(0,r.kt)("p",null,"Vous pouvez \xab\xa0injecter\xa0\xbb une d\xe9pendance locale. Par d\xe9faut, les d\xe9pendances locales sont li\xe9es symboliquement \xe0 ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules")," mais avec cette nouvelle fonctionnalit\xe9, vous pouvez demander \xe0 pnpm de lier \xe0 la place en dur les fichiers du package."),(0,r.kt)("h3",{id:"am\xe9lioration-du-signalement-des-probl\xe8mes-de-d\xe9pendance-entre-pairs-depuis-v6240"},"Am\xe9lioration du signalement des probl\xe8mes de d\xe9pendance entre pairs (depuis ",(0,r.kt)("a",{parentName:"h3",href:"https://github.com/pnpm/pnpm/releases/tag/v6.24.0"},"v6.24.0"),")"),(0,r.kt)("p",null,"Les probl\xe8mes de d\xe9pendance des pairs (\xab peer dependency\xa0\xbb) \xe9taient auparavant imprim\xe9s en texte simple et il \xe9tait difficile de les comprendre. Elles sont maintenant toutes regroup\xe9es et affich\xe9es dans une belle structure hi\xe9rarchique."),(0,r.kt)("h2",{id:"la-comp\xe9tition"},"La comp\xe9tition"),(0,r.kt)("h3",{id:"yarn"},"Yarn"),(0,r.kt)("p",null,"Yarn a ajout\xe9 un gestionnaire de liens pnpm dans la ",(0,r.kt)("a",{parentName:"p",href:"https://dev.to/arcanis/yarn-31-corepack-esm-pnpm-optional-packages--3hak#new-install-mode-raw-pnpm-endraw-"},"v3.1"),". Ainsi, Yarn peut cr\xe9er une structure de r\xe9pertoire node-modules similaire \xe0 celle cr\xe9\xe9e par pnpm."),(0,r.kt)("p",null,"De plus, l'\xe9quipe de Yarn pr\xe9voit d'impl\xe9menter un stockage adressable par le contenu pour \xeatre plus efficace en termes d'espace disque."),(0,r.kt)("h3",{id:"npm"},"npm"),(0,r.kt)("p",null,"L'\xe9quipe npm a d\xe9cid\xe9 d'adopter \xe9galement la structure de r\xe9pertoire node-modules avec liens symboliques utilis\xe9e par pnpm (",(0,r.kt)("a",{parentName:"p",href:"https://github.com/npm/rfcs/blob/main/accepted/0042-isolated-mode.md"},"RFC")," associ\xe9e)."),(0,r.kt)("h3",{id:"autres"},"Autres"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://twitter.com/jarredsumner/status/1473416431291174912/photo/1"},"Bun")," \xe9crit en Zig et ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/voltpkg/volt"},"Volt")," \xe9crit en Rust pr\xe9tendent tous deux \xeatre plus rapides que npm/Yarn/pnpm. Je n'ai pas encore \xe9valu\xe9 ces nouveaux gestionnaires de packages."),(0,r.kt)("h2",{id:"plans-futurs"},"Plans futurs"),(0,r.kt)("p",null,"Plus vite, mieux, le meilleur."))}m.isMDXComponent=!0},8759:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/countries-2021-8eb9625e1798649ee04451dfb10ac851.png"},8244:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/download-stats-2021-1418562cb03abd558c4a6b4b17155227.png"},7846:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/ga-unique-visits-2021-b8bc3649f680565127696c85bdd4b701.png"},8584:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/pnpm-vs-bower-stats-6ec69a7308f5fbc1433420b1b2f7457f.png"},6627:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/stars-2021-0061c16f424e33ba0db224d82bcb53f3.png"}}]);